# 파일 업로드 성능 테스트 애플리케이션

## 📋 개요

이 애플리케이션은 파일 업로드 성능을 측정하고 비교하는 클라이언트 도구입니다. 단일 파일 업로드(Instruction 업로드)와 청크 단위 업로드를 통해 서버의 파일 처리 성능을 분석할 수 있습니다.

## 🏗️ 프로젝트 구조

```
client/
├── src/
│   ├── App.js         # 메인 애플리케이션 컴포넌트
│   ├── App.css        # 스타일시트
│   └── index.js       # React 앱 진입점
└── public/
    └── README.md      # 이 파일
```

## ⚙️ 주요 기능

### 1. 설정 관리
- **API 서버 Origin**: 테스트 대상 서버 주소 설정
- **테스트 횟수**: 반복 측정 횟수 설정
- **청크 크기**: 청크 업로드 시 청크당 크기 (byte)
- **병렬 업로드 개수**: 동시 업로드 수 (1-16개)

### 2. 경로 설정
- **단일 업로드 Path**: Instruction 업로드 엔드포인트
- **청크 업로드 Path**: 청크 업로드 엔드포인트
- **청크 병합 Path**: 청크 병합 엔드포인트

### 3. 인증 및 식별
- **JWT 토큰**: Bearer 토큰 인증
- **Request ID**: 요청 추적을 위한 고유 식별자

### 4. 파일 업로드
- **Instruction 업로드**: 단일 파일을 한 번에 업로드
- **청크 업로드**: 파일을 청크 단위로 분할하여 업로드

### 5. 커스터마이징
- **커스텀 FormData**: 추가 폼 데이터 필드
- **커스텀 헤더**: HTTP 요청 헤더 추가

## 🔄 동작 과정

### Instruction 업로드 과정
1. **파일 선택**: 사용자가 단일 파일 선택
2. **FormData 생성**: 파일과 커스텀 필드를 포함한 FormData 객체 생성
3. **XMLHttpRequest**: 진행률 추적을 위한 XHR 요청 전송
4. **업로드 완료**: 서버 응답 수신 및 결과 기록

### 청크 업로드 과정
1. **파일 선택**: 사용자가 청크 업로드용 파일 선택
2. **청크 분할**: 파일을 설정된 크기로 청크 단위 분할
3. **병렬 업로드**: 설정된 개수만큼 청크를 동시 업로드
4. **진행률 추적**: 각 청크의 업로드 진행률 모니터링
5. **청크 병합**: 모든 청크 업로드 완료 후 서버에 병합 요청
6. **완료 처리**: 병합 완료 후 결과 기록

### 성능 측정
- **응답 시간**: 각 요청의 시작부터 완료까지의 시간
- **처리량**: 단위 시간당 처리된 데이터량
- **평균/최대/최소**: 반복 테스트 결과의 통계값

## 🎯 사용 시나리오

### 1. 서버 성능 테스트
- 다양한 파일 크기로 업로드 성능 측정
- 청크 크기별 성능 비교 분석
- 병렬 처리 능력 평가

### 2. 네트워크 최적화
- 청크 크기 최적화를 통한 네트워크 효율성 개선
- 병렬 업로드 수 조정을 통한 대역폭 활용 최적화

### 3. 서버 스트레스 테스트
- 대용량 파일 업로드 시 서버 안정성 검증
- 동시 접속자 시뮬레이션

## 🔧 기술 스택

### 프론트엔드
- **React**: 사용자 인터페이스 구축
- **CSS Grid/Flexbox**: 반응형 레이아웃
- **XMLHttpRequest**: 진행률 추적이 가능한 파일 업로드
- **Fetch API**: 청크 병합 요청 처리
- **React-Markdown**: 마크다운 렌더링

## 📊 측정 지표

### 시간 지표
- **업로드 시작 시간**: 요청 전송 시점
- **업로드 완료 시간**: 응답 수신 시점
- **총 소요 시간**: 완료 시간 - 시작 시간

### 크기 지표
- **파일 크기**: 업로드된 파일의 바이트 크기
- **청크 크기**: 각 청크의 바이트 크기
- **청크 개수**: 전체 청크 수

### 성능 지표
- **처리 속도**: 파일 크기 / 소요 시간 (MB/s)
- **평균 응답 시간**: 모든 요청의 평균 소요 시간
- **성공률**: 성공한 요청 수 / 전체 요청 수

## 🚀 실행 방법

### 개발 환경 설정
```bash
# 클라이언트 실행
cd client
npm install
npm start
```

### 테스트 실행
1. 브라우저에서 `http://localhost:3000` 접속
2. API 서버 설정 및 파일 선택
3. 테스트 파라미터 조정
4. "일괄 측정 시작" 버튼 클릭
5. 결과 확인 및 분석

## 📝 주의사항

- **파일 크기**: 대용량 파일 업로드 시 메모리 사용량 주의
- **네트워크**: 안정적인 네트워크 환경에서 테스트 권장
- **서버 설정**: 대상 서버의 파일 업로드 제한 확인
- **동시 요청**: 서버의 동시 요청 처리 능력 고려

## 🔍 문제 해결

### 일반적인 문제
- **업로드 실패**: 서버 연결 상태 및 인증 정보 확인
- **청크 병합 실패**: 청크 파일의 무결성 및 서버 로그 확인
- **성능 저하**: 네트워크 상태 및 서버 부하 확인

### 디버깅
- 브라우저 개발자 도구의 Network 탭 활용
- 서버 로그 확인
- Request ID를 통한 요청 추적 